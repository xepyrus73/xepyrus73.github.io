<html>
<head>
<title>단순 회귀분석 (Simple Linear Regression)</title>
<meta http-equiv="Content-Type" content="text/html; charset=euc-kr">
<script language="JavaScript" src="/javascrip/test.js"></script>
</head>

<body bgcolor="#FFFFFF" topmargin="0" leftmargin="0" marginwidth="0" marginheight="0" onLoad="MM_preloadImages('images/b_basic_on.gif','images/b_pro01_on.gif')">
<style><!--
.leading200 { line-height: 200% }
.leading180 { line-height: 180% }
.leading150 { line-height: 150% }
.leading100 { line-height: 100% }
-->
</style>
<table border=0 cellpadding=0 cellspacing=0 width=621>
  <tr> 
    <td width=20 height="7801">&nbsp;</td>
    <td height="7801" width="601"> 
      <table border=0 cellpadding=0 cellspacing=0 width=602>
        <tr> 
          <td height="7773"> 
            <p><a href="#" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image19','','images/b_basic_on.gif',1)"><img name="Image19" border="0" src="images/B_basic.gif" width="55" height="24"></a><a href="#" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image18','','images/b_pro01_on.gif',1)"><img name="Image18" border="0" src="images/B_pro01.gif" width="55" height="24"></a><br>
              <br>
              <a name="1"></a><font size="4" color="#a70105"><b><font color="#a70105">단순 회귀분석 (Simple 
              Linear Regression)</font></b></font><br>
              <br>
              <font size=3><b></b></font><font size=3><b> Stat>Regression>Regression<br>
              <br>
              <br>
              </b></font></p>
            <ul>
              <li><font size="-1">MINITAB을 사용한 회귀분석 <br>
                </font><br>
                <font size="-1">1. 단순 회귀분석 </font><br>
                <br>
                <font size="-1">2. Fitted Line Plot<br>
                </font><br>
              <li><font size="-1">Residual Plot</font><br>
            </ul>
            <p><font size=3><b> <br>
              <br>
              <br>
              <font size="2">1. 단순 회귀모형 </font></b></font> <br>
              <br>
              <font size="-1">y와 x가 각각 하나인 경우, 이를 단순 회귀라 하며, 다음과 같은 모델을 사용한다.<br>
              <br>
              <img src="images/Regression2_01.gif" width="145" height="18"> <br>
              <br>
              y는 반응(response) 변수 또는 종속(dependent) 변수라고 부른다.<br>
              x<sub>1</sub>은 예측(predictor) 변수 또는 독립(independent) 변수라고 부른다.<br>
              β<sub>0</sub> 와 β<sub>1</sub>은 데이터를 가지고 알아내야 할 모수(parameter)로서, 
              <br>
              β<sub>0</sub>은 상수항(constant, x=0일 때의 y값), <br>
              β<sub>1</sub>은 기울기(slope, x가 1단위 변할 때 y가 변하는 비율)에 해당한다.<br>
              ε는 오차(error)라고 하며, 실제 관측된 y와 회귀식에 의해 계산되는 y와의 차이를 나타낸다.<br>
              <br>
              <br>
              <b><font size="2">2. MINITAB을 사용한 단순 회귀분석 <a href="data/reg01.zip">(데이터 
              : Reg01.mtw)</a></font></b> </font></p>
            <p><font size="-1">농약 원제를 생산하는 어느 화학 회사는 고품질의 제품을 요구하는 해외 신규시장을 개 
              척하기 위해 제품의 순도를 높이기로 하였다. 제품의 순도와 관련된 인자 중 원재료의 합 성공정의 반응시간이 순도에 
              끼치는 영향의 정도를 파악하기 위해 단순 회귀분석을 실시 하였다. 회귀분석을 적용하기 위해서는 데이터 (또는 잔차)의 
              정규성 및 등분산성, 독립성 등을 확인하여야 하며, 이는 MINITAB의 잔차 분석 기능을 이용하면 된다. <br>
              <br>
              <img src="images/Regression2_02.gif" width="496" height="59"> <br>
              <br>
              2.1 데이터의 입력 <br>
              &nbsp;&nbsp;&nbsp;&nbsp;MINITAB Worksheet에 아래의 데이터를 입력한다. <br>
              <br>
              <img src="images/Regression2_03.gif" width="229" height="248"><br>
              <br>
              <br>
              2.2 회귀 직선식을 구한다. <br>
              <br>
              ① Stat > Regression > Regression 선택<br>
              <br>
              <img src="images/Regression2_04.gif" width="531" height="236"> <br>
              </font> </p>
            <p><font size="-1">② Response 란에 제품순도 데이터 'Purity', Predictors 란에 
              반응시간 데이터 'R_Time'을 <br>
              &nbsp;&nbsp;&nbsp;&nbsp; 선택하여 입력한다.<br>
              <br>
              <img src="images/Regression2_05.gif" width="543" height="377"> </font></p>
            <p> <font size="-1">☞ 옵션창 설명 <br>
              <br>
              : 회귀분석을 실시하기 전에 필요한 경우, 각 옵션창에 해당하는 버튼을 클릭하여, 옵션을 지정할 수 있다. 자세한 
              설명은 7의 기타를 참조.<br>
              <br>
              <img src="images/Regression2_06.gif" width="521" height="352"> <br>
              <br>
              <br>
              [Options]<br>
              <br>
              <img src="images/Regression2_07.gif" width="585" height="357"><br>
              <br>
              <br>
              ☞ Regression -> Options -> Display <br>
              <br>
              <u>Variance inflation factors</u> <br>
              종속변수간에 상관성이 있을 때 추정된 회귀식 계수의 변동이 어느 정도로 커지 는가를 측정한 분산 팽창 계수이다. (값이 
              1이면 예측 변수간의 상관성이 없다는 것을 의미하며, 5~10보다 크면 독립변수 간에 상관성이 크다는 의미이다.) 
              <br>
              <br>
              <u>Durbin-Waston statistic</u> <br>
              잔차들의 자기 상관을 검출하고자 할 때 체크하며, 이 값이 4에 가까우면 음의 자기상관, 0에 가까우면 양의 자기상관이 
              있다고 볼 수 있다. <br>
              <br>
              <u>PRESS and predicted R-square</u><br>
              PRESS 통계량과 Adjusted R-square 를 출력에 나타내고자 할 때 체크.<br>
              <br>
              ☞ Regression -> Options -> Prediction intervals for new observations<br>
              : 예를 들어, 반응시간이 9.5일 때 생산되는 농약원제의 순도에 대한 기대값을 추정할 수 있다. <br>
              <br>
              <br>
              ③ OK 버튼을 클릭한다.<br>
              <br>
              <b>Session 창에 나타난 결과</b><br>
              <br>
              <img src="images/Regression2_08.gif" width="558" height="304"><br>
              <br>
              위 결과에서 순도와 반응시간 간의 회귀식은 <font color="#0000FF">Purity = 101 - 0.589 
              R_time</font> 이다. 즉, □<sub>0</sub> = 101, □<sub>1</sub> = -0.589 
              이다. <br>
              <br>
              <br>
              2.3 위에서 얻어진 회귀식을 산점도 상에 도시 <br>
              <br>
              ① Stat > Regression > Fitted Line Plot 을 선택한다.<br>
              <br>
              <img src="images/Regression2_09.gif" width="457" height="237"><br>
              <br>
              <br>
              ② Response (Y )에 제품순도 데이터 'Purity', Predictor (X)에 반응시간 'R_time'을 
              입력. Type of<br>
              &nbsp;&nbsp;&nbsp;&nbsp; Regression Model은 'Linear'로 선택한다. <br>
              <br>
              ☞ 옵션창 설명<br>
              : 회귀식을 도시하기 전에 필요한 경우, 옵션 버튼을 클릭하여, 옵션을 지정할 수 있다.<br>
              <br>
              [Options] <br>
              <img src="images/Regression2_10.gif" width="500" height="224"> <br>
              <br>
              <br>
              ③ OK를 클릭한다. <br>
              <br>
              &nbsp;&nbsp;&nbsp;&nbsp;다음과 같이 데이터와 회귀 직선이 포함된 창이 나타난다.<br>
              <br>
              <img src="images/Regression2_11.gif" width="433" height="322"> <br>
              <br>
              위 그림의 데이터들을 보면 직선이 반응시간과 순도간의 관계를 잘 표현하고 있다고 할 수 있다. 따라서 선형 회귀식이 
              잘 들어 맞음을 알 수 있다. <br>
              <br>
              <br>
              2.4 잔차 분석 (Residual Analysis) <a href="data/reg01.zip">(데이터 : Reg01.mtw)</a> 
              <b><br>
              <br>
              </b>잔차 분석을 통해 상정한 회귀식의 적합성 (정규성, 등분산성, 독립성의 가정 및 직선 관계의 타당성)을 검토할 
              수 있다. 잔차의 종류는 세가지가 있으며, 잔차분석의 과정은 다음과 같다. <br>
              <br>
              ① 잔차의 저장<br>
              &nbsp;&nbsp;&nbsp;&nbsp;Stat > Regression > Regression에서 Storage 
              버튼을 클릭하고 Fits와 Residual (또는 Standard residual)을 선택한다. <br>
              <br>
              <img src="images/Regression2_12.gif" width="493" height="208"> <br>
              <br>
              <br>
              ② Stat > Regression > Residual Plots 을 선택한다.<br>
              <br>
              <img src="images/Regression2_13.gif" width="430" height="220"> <br>
              <br>
              <br>
              ③ Residuals에 Worksheet에 저장된 데이터 'RES1', Fits에 역시 Worksheet에 저장된 
              데이터<br>
              &nbsp;&nbsp;&nbsp;&nbsp; 'FITS1'을 입력. <br>
              <br>
              <img src="images/Regression2_14.gif" width="409" height="184"><br>
              <br>
              <br>
              ④ OK 버튼을 클릭한다. <br>
              <br>
              <b>Graph 창에 나타난 결과 <br>
              <br>
              <img src="images/Regression2_15.gif" width="604" height="448"><br>
              <br>
              </b>잔차분석 결과, 독립성 및 등분산성에 문제가 있어 보여, 회귀모형이 적합하다고 보기 어렵다. <b><br>
              <br>
              <br>
              </b>2.5 결과 해석<b><br>
              <br>
              1) 기울기는 0이 아니라고 할 수 있는가? <br>
              <br>
              </b>Session 창에 나오는 결과 중 아래 내용은 모델의 모수에 대한 검정 결과 이다. 회귀직선의 식에서 β<sub>0</sub> 
              와 β<sub>1</sub>는 각각 상수 항 (constant)과 기울기를 나타내며, 이 중 우리는 반응시간의 계수인 
              β<sub>1</sub>이 0의 값을 갖지 않는 지의 여부를 알아야 한다. β<sub>1</sub>이 0이라는 것은 
              직선식의 기울기가 0 이여서 제품의 순도는 반응시간과 전혀 관계가 없다는 것을 의미한다. <br>
              모델에서 β<sub>1</sub>이 0이 아닌 지의 여부를 검정하기 위해 모평균의 검정하는데 사용되는 t 검정을 사용한다.<br>
              <br>
              <img src="images/Regression2_16.gif" width="488" height="149"> <br>
              <br>
              Coef : 계수 (coefficient)<br>
              StDev : 표준편차 (Standard Deviation)<br>
              T : 주어진 데이터를 t 통계량을 사용해 계산된 값<br>
              P : 유의확률 (P 값)<br>
              <br>
              P 값은 T 값을 사용해 얻어진 유의 확률로서 이 값이 작으면 β<sub>1</sub> 값이 0이라고 하기 어렵다고 
              판단할 수 있다. 일반적으로 P값이 0.05 (때로는 0.01) 보다 작을 경우, β<sub>1</sub>은 0이 
              아니라고 해석한다. 위 예의 경우는 반응시간의 P 값이 0.041로서 0.05보다 작아 β<sub>1</sub> 은 
              0 이라고 할 수 없다. 따라서 반응시간은 제품의 순도에 유의한 (significant) 인 자라고 해석할 수 있다. 
              <br>
              <br>
              <br>
              <b>2) R-Square의 해석 <br>
              <br>
              </b>R-Square (R<sub>2</sub>) 는 결정계수라고 불리며, y 변수의 데이터가 가지고 있는 전체 
              변동 (산포) 중에서 x와 y간의 회귀 모델로 설명할 수 있는 변동(산포) 이 차지하는 비율을 의미한다. 즉, 회귀모형을 
              통해 y 값의 변화를 x 값의 변화는 얼마나 잘 설명할 수 있는 가를 나타 낸다. <br>
              <br>
              R-Square는 아래와 같은 식으로 표현할 수 있다.<br>
              <br>
              <img src="images/Regression2_17.gif" width="183" height="27"> <br>
              SS (Sum of Square) : 제곱의 합, 변동을 정량화하는 방법 중 하나<br>
              <br>
              앞의 예에서 R-Sq =53% (또는 0.53) 라는 의미는 제품의 순도가 가지고 있는 전체 변동 중 53%는 반응시간과의 
              선형 회귀식으로 설명할 수 있고, 나머지 47%는 반응시간으로는 설명할 수 없는 변동이라는 것을 의미한다. 따라서 
              반응시간 이외에 다른 요인을 찾아 내어 제품의 순도가 가지고 있는 변동을 설명할 수 있어야 한다.<br>
              R-Square는 0에서 1사이의 값을 가질 수 있으며, R-Square 값이 클수록 두 변수간의 관계가 깊다는 것을 
              의미한다. R-Square가 1일 때는 모든 데이터가 회귀선 상에 놓 여 있는 상태로서 회귀식이 y의 전체 변동을 
              완전히 설명하고 있는 상태를 의미하게 되며 R- Square가 0일 때는 x와 y간에 전혀 관계가 없는 상태를 의미하게 
              된다.<br>
              일반적으로 R-Square가 80% 이상이면 해당 회귀 직선이 매우 적절하다고 판단할 수 있다.<br>
              <br>
              <br>
              <b><font size="2">3. 기 타 </font></b><br>
              <br>
              <br>
              3.1 잔차 분석 <br>
              <br>
              회귀분석에 있어서 잔차분석은 오차항에 대한 가정 검토를 통해 모형의 적합성을 따지는데 중요한 역할을 한다. 잔차란 
              실제값에서 모형에 의해 적합된 값을 뺀 것으로, 잔차의 도시를 통해 회귀분석의 기본 가정인 오차항의 정규성 가정, 
              독립성 가정, 등분산성 가정을 검토할 수 있다. 잔차의 종류에는 아래의 세가지가 있다.<br>
              <br>
              <img src="images/Regression2_18.gif" width="350" height="160"> <br>
              <br>
              5에 설명한 잔차 분석 과정과는 별도로 Stat - Regression - Regression에서 Graph 버튼을 
              클릭하여 적절한 잔차 분석을 실시할 수 있으며, 그 결과는 5의 Stat - Regression - Residual 
              Plots과 같다.<br>
              <br>
              <br>
              3.2 절편 없는 회귀모형<br>
              <br>
              No intercept 모형은 회귀모형 중 절편 (intercept)가 없는 모형으로 아래와 같다. <br>
              <br>
              <img src="images/Regression2_21.gif" width="105" height="17"> <br>
              <br>
              No intercept 모형은 (y, x) = (0,0) 즉 원점을 지나게 된다. 즉, 이 모형은 대부분 이론적 배경 
              (특히 물리/화학)이 뒷받침 되어야만 유효할 수 있는 모형이다. 예를 들면, 반응변수 y가 특정 화합물의 반응량이고 
              독립변수가 온도 x일 때, 특정 화합물의 경우, 화씨 0도에서 이론적으로나 경험적으로 반응이 전혀 일어나지 않는다고 
              알려져 있다면, no intercept 모형이 매우 적절할 수 있다 (동일한 데이터에 대해, 절편이 있는 모형보다 
              결정계수 값이 작게 계산되므로 이론적 배경이 뒷받침이 된다면 효과적인 회귀식을 구할 수 있게 된다.)<br>
              <br>
              <br>
              3.3 적합 결여 검정 (Lack-of-Fit test)<br>
              <br>
              적합결여 검정의 목적은 1차 선형 모형과 2차 곡선 모형을 비교함으로써 가정한 1차 선형 모형의 적합성 여부를 판단하는데 
              있으며, 이 검정을 수행하기 위해서는 적어도 한 점 이상의 x에서 반복 실험이 필요하다. 적합 결여 검정 결과, 유의확률 
              값이 사전에 설정한 유의수준보다 크면 가정한 1차 선형 모형이 적합하다고 할 수 있다 (아래 해석 예 참조). <br>
              <br>
              <img src="images/Regression2_22.gif" width="510" height="212"><br>
              <br>
              3.4 신뢰구간 및 예측구간<br>
              <br>
              데이터를 통해 적합된 회귀식을 이용하여 독립변수 x가 특정 값을 가질 때, 반응변수 y의 값에 대한 신뢰구간과 예측구간을 
              계산할 수 있다. 참고적으로, 신뢰구간은 독립변수 x에 대한 반응변수 y의 기대값이 속할 구간을 의미하며, 예측구간은 
              독립변수 x에 대한 반응변수 y의 개별값이 속할 구간을 의미한다. 예를 들어, 반응시간 9.5에서의 순도값에 대한 
              신뢰구간과 예측구간은 다음과 같이 계산될 수 있다. <br>
              <br>
              먼저, Stat > Regression > Regression에서 Option 버튼을 클릭하고 Prediction 
              intervals for new observations에 '9.5'를 입력 <br>
              <br>
              <img src="images/Regression2_23.gif" width="445" height="287"><br>
              <br>
              이후 OK 버튼을 클릭하면, 다음과 같은 결과가 Session창에 출력된다. <br>
              <br>
              <img src="images/Regression2_24.gif" width="550" height="131"> <br>
              <br>
              즉, 반응시간 9.5에서 순도값은 평균적으로 113.73으로 예측되며, 순도의 평균값이 96.66 ~ 130.80에 
              속할 확률은 95%로 예측된다고 할 수 있으며, 순도의 개별 관측값은 70.05~157.42에 속할 확률이 95%로 
              예측된다고 할 수 있다. </font></p>
          </td>
        </tr>
        <tr> 
          <td> <br>
            <hr size=1 color=#C0BDD6 width=90% align=center>
            <div align="center"><img src="images/copy.gif" width="271" height="26"> 
              <br>
            </div>
          <br>
          </td>
        </tr>
      </table>
  </tr>
</table>
</body>
</html>
